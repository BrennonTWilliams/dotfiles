# ===================================
# Starship Gruvbox-Rainbow Configuration
# ===================================
# Based on https://starship.rs/presets/gruvbox-rainbow
# Optimized for IosevkaTerm Nerd Font

# Get editor completions based on the config schema
"$schema" = 'https://starship.rs/config-schema.json'

# Command timeout
command_timeout = 2000

# Gruvbox-rainbow format string with proper background syntax
format = """
[](color_red)\
$os\
$shell\
[](bg:color_orange fg:color_red)\
$directory\
[](fg:color_orange bg:color_yellow)\
$git_branch\
$git_status\
[](fg:color_yellow bg:color_green)\
$package\
$nodejs\
$python\
$golang\
$rust\
$java\
[](fg:color_green bg:color_aqua)\
$docker_context\
$terraform\
$kubernetes\
[](fg:color_aqua bg:color_purple)\
$jobs\
[](fg:color_purple bg:color_bg1)\
$status\
[ ](fg:color_bg1)\
$character"""

# Right side prompt with duration and time
right_format = """$cmd_duration$time"""

# Use the gruvbox palette
palette = 'gruvbox_rainbow'

# Gruvbox color palette
[palettes.gruvbox_rainbow]
color_fg0 = '#fbf1c7'  # light0_hard
color_bg1 = '#3c3836'  # dark1
color_bg3 = '#665c54'  # dark3
color_red = '#cc241d'  # red
color_orange = '#d65d0e'  # orange
color_yellow = '#d79921'  # yellow
color_green = '#98971a'  # green
color_aqua = '#458588'  # aqua/cyan
color_blue = '#83a598'  # blue
color_purple = '#b16286'  # purple

# Character configuration
[character]
success_symbol = "[❯](green)"
error_symbol = "[❯](red)"
vimcmd_symbol = "[❮](green)"
vimcmd_replace_one_symbol = "[❮](purple)"
vimcmd_replace_symbol = "[❮](purple)"
vimcmd_visual_symbol = "[❮](yellow)"

# OS module
[os]
format = "[ $symbol]($style)"
style = "bg:color_red fg:color_fg0"
disabled = false

[os.symbols]
Alpine = ""
Amazon = ""
Android = ""
Arch = ""
Artix = ""
CentOS = ""
Debian = ""
Fedora = ""
FreeBSD = ""
Gentoo = ""
Linux = ""
Macos = ""
Manjaro = ""
Mint = ""
NixOS = ""
OpenBSD = ""
openSUSE = ""
Pop = ""
Raspbian = ""
Redhat = ""
RedHatEnterprise = ""
Solus = ""
SUSE = ""
Ubuntu = ""
Unknown = ""
Windows = ""

# Shell module
[shell]
bash_indicator = "bash"
fish_indicator = "fish"
zsh_indicator = "zsh"
powershell_indicator = "pwsh"
ion_indicator = "ion"
elvish_indicator = "esh"
tcsh_indicator = "tsh"
nu_indicator = "nu"
cmd_indicator = "cmd"
unknown_indicator = "mystery shell"
format = "[$indicator]($style)"
style = "bg:color_red fg:color_fg0"
disabled = false

# Directory module
[directory]
style = "bg:color_orange fg:color_fg0"
format = "[ $path]($style)[$read_only]($read_only_style)"
read_only = " 󰌾"
read_only_style = "bg:color_orange fg:color_red"
truncation_length = 3
truncation_symbol = "…/"
truncate_to_repo = true
home_symbol = "󰋜"

# Git branch module
[git_branch]
format = "[ $symbol$branch]($style)"
symbol = " "
style = "bg:color_yellow fg:color_bg1"
truncation_length = 20
truncation_symbol = "…"

# Git status module
[git_status]
format = "([\\[$all_status$ahead_behind\\]]($style))"
style = "bg:color_yellow fg:color_bg1"
conflicted = "!"
ahead = "↑"
behind = "↓"
diverged = "⚡"
untracked = "◌"
stashed = "⚑"
modified = "•"
staged = "+"
renamed = "→"
deleted = "×"

# Package version
[package]
format = "[ $symbol$version]($style)"
symbol = "󰏗 "
style = "bg:color_green fg:color_bg1"

# Programming languages
[nodejs]
format = "[ $symbol($version)]($style)"
symbol = " "
style = "bg:color_green fg:color_bg1"

[python]
format = "[ ${symbol}${pyenv_prefix}(${version})(\\($virtualenv\\))]($style)"
symbol = " "
style = "bg:color_green fg:color_bg1"
pyenv_version_name = false
pyenv_prefix = "pyenv "
python_binary = ["python3", "python", "python2"]
detect_extensions = ["py"]
detect_files = ["requirements.txt", ".python-version", "pyproject.toml", "Pipfile", "setup.py", "tox.ini"]
detect_folders = []

[golang]
format = "[ $symbol($version)]($style)"
symbol = " "
style = "bg:color_green fg:color_bg1"
detect_extensions = ["go"]
detect_files = ["go.mod", "go.sum", "go.work", "go.work.sum"]
detect_folders = ["go"]

[rust]
format = "[ $symbol($version)]($style)"
symbol = "󱘗 "
style = "bg:color_green fg:color_bg1"
detect_extensions = ["rs"]
detect_files = ["Cargo.toml", "Cargo.lock"]
detect_folders = []

[java]
format = "[ ${symbol}(${version})]($style)"
symbol = " "
style = "bg:color_green fg:color_bg1"
detect_extensions = ["java", "class", "jar", "war", "ear"]
detect_files = ["pom.xml", "build.gradle.kts", "build.sbt", ".java-version"]
detect_folders = ["src", "target", "pom.xml"]

# Container and build tools
[docker_context]
format = "[ $symbol$context]($style)"
symbol = "󰡨 "
style = "bg:color_aqua fg:color_bg1"
detect_extensions = []
detect_files = ["docker-compose.yml", "docker-compose.yaml", "Dockerfile", "docker-compose.dev.yml", "docker-compose.ci.yml"]
detect_folders = []

[terraform]
format = "[ $symbol$workspace]($style)"
symbol = "󰔱 "
style = "bg:color_aqua fg:color_bg1"
detect_extensions = ["tf", "tfplan", "tfstate"]
detect_files = [".terraformrc", ".terraform.lock.hcl"]
detect_folders = [".terraform"]

[kubernetes]
format = '[ $symbol$context( \($namespace\))]($style)'
symbol = "󱃾 "
style = "bg:color_aqua fg:color_bg1"
disabled = false
detect_files = ["k8s", "kubernetes", "kubeconfig", "k3s", "kubeadm"]
detect_folders = []

# Background jobs
[jobs]
format = "[ $symbol$number]($style)"
symbol = "󰜎 "
style = "bg:color_purple fg:color_fg0"
threshold = 1

# Exit status
[status]
format = "[ $symbol$status]($style)"
symbol = "✗ "
style = "bg:color_bg1 fg:color_red"
disabled = false

# Command duration (right prompt)
[cmd_duration]
format = "[󱎫 $duration]($style) "
style = "color_yellow"
min_time = 2000
show_milliseconds = false

# Time module (right prompt)
[time]
format = "[$time]($style)"
style = "color_bg3"
use_12hr = false
disabled = false
